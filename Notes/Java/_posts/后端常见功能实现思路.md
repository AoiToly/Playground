# 后端常见功能实现思路

## 图片存储

参考：

版权声明：本文为CSDN博主「githubcurry」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/weixin_45277161/article/details/111617529



图片存储一般有两种方案：

1. 直接将图片转换为二进制存在数据库中
2. 将图片的路径存在数据库中

一般情况下采用方案二，因为方案一会导致数据表过大，大幅降低查找的速度

永远不要把图片、文件、二进制数据存到数据库里，原因：

1. 对数据库的读/写的速度永远都赶不上文件系统处理的速度
2. 数据库备份变的巨大，越来越耗时间
3. 对文件的访问需要穿越你的应用层和数据库层
4. 把图片缩略图存到数据库里？很好，那你就不能使用nginx或其它类型的轻量级服务器来处理它们了。

对于方案二，建议使用第三方文件上传平台，像七牛云，阿里云，腾讯云等等。

## 文件下载功能

在数据库中存储下载地址即可

## 手机验证码登录

可以直接使用阿里云、腾讯云等提供的服务，参考[短信服务-阿里云帮助中心 (aliyun.com)](https://help.aliyun.com/zh/sms)

## 登录验证码

字符验证码实现：[SpringBoot——登录验证码实现 - QianTM - 博客园 (cnblogs.com)](https://www.cnblogs.com/qiantao/p/12670517.html)

滑动验证码实现：[前端实现滑动模块验证码的方法与原理解析 - 掘金 (juejin.cn)](https://juejin.cn/post/7257787885863551031)

## 登录加密

### 加盐

一般现在的加密都是sha或者md5，不过这两种方式并不是解密算法，因为它们是基于哈希的散列算法，只有加密的单项过程，无法将密码逆向转换为明文。

由于其不可逆的特性，所以看上去就挺安全的，但事实并非如此，现在已经有存在暴力破解的方式了，例如使用彩虹表，彩虹表是黑客预先准备好的一个大型明文-密文关联数据库（不懂原理，先这么理解就好），黑客预先根据明文生成大量的密文，然后再将彩虹表中的密文和真正的密文进行比对，通过这种方式密码，因此简单的sha或md5算法已经并不安全了，现在已经有一次、两次甚至三次的md5彩虹表。

我们可以通过加盐的方式增加加密的强度。所谓加盐，就是给每个用户赋予一个唯一的盐值，它可以是用户的ID，也可以是随机生成的，然后将密码和ID组合后再进行加密，这种方式生成的密码仍然不是绝对安全的，但它可以大幅度增加破解密码所需要的时间。

### 具体方案

对比下来比较有效的方式为：前端提交登录请求时控制台属性隐藏密码，传输过程使用https或者非对称加密的方式进行加密，后端在数据库中加盐加密进行存储。

可以学一下[Spring Security](https://spring.io/projects/spring-security)

